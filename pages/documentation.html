<!DOCTYPE HTML>
<html>
	<head>
		<title>Xirtam 3</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
        <div id="header">
            <div class="top">

                <!-- Side Panel -->
                <div id="logo">
                    <span class="image avatar48"><img src="../assets/images/avatars/avatar.jpg" alt="" /></span>
                    <h1 id="title">Noah Gamble JihadiJackass</h1>
                    <p>Computer Programmer</p>
                    <p>Mod Developer</p>
                </div>

				<!-- Navigation Menu -->
                <nav id="nav">
                    <ul>
                        <li><a href="../index.html" id="top-link"><span class="icon solid fa-home">Home</span></a></li>
                        <li><a href="../pages/projects.html" id="projects-link"><span class="icon solid fa-user">Projects</span></a></li>
                        <li><a href="../pages/documentation.html" id="documentation-link"><span class="icon solid fa-user">Documentation</span></a></li>
                        <li><a href="../pages/airsoft.html" id="airsoft-link"><span class="icon solid fa-user">Airsoft</span></a></li>
                        <li><a href="../pages/reptiles.html" id="reptiles-link"><span class="icon solid fa-user">Reptiles</span></a></li>
                        <li><a href="../pages/images.html" id="images-link"><span class="icon solid fa-user">Images</span></a></li>
                        <li><a href="../pages/about.html" id="about-link"><span class="icon solid fa-user">About</span></a></li>
                    </ul>
                </nav>
            </div>
        <div class="bottom">

        <!-- Social Icons -->
        <ul class="icons">
                <li><a href="https://github.com/JihadJackass" class="icon brands fa-github"><span class="label">Github</span></a></li>
                <li><a href="mailto:noahrg2@hotmail.com?Subject=Xirtam3" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
            </div>
        </div>

        <!-- Main -->

        <div id="main">
            <!-- Documentation Listing Page -->
            <section id="Documentation">
                <div class="container">
                    <header>
                        <h2>Various Documentation</h2>
                    </header><br>

                    <header>
                        <h3>Paradox AARs & Mapping</h3><hr>
                        <p>These are AAR (After-Action Reports) that show maps of Paradox Interactive games from campaigns that are either finished, unfinished, or MP. They include lots of detail and information and are very interesting</p><br>
                        <!--Separator-->
                        <a href="../assets/images/documentation/Spanish Accord.png"><figcaption>The Spanish Empire - 1572</figcaption><img src="../assets/images/documentation/Spanish Accord.png" width="1050" height="700"></a><br>
                        <!--Separator-->
                        <a href="../assets/images/documentation/Mexican Federal Republic 1638.png"><figcaption>The Mexican Federal Republic - 1638</figcaption><img src="../assets/images/documentation/Mexican Federal Republic 1638.png" width="1200" height="700"></a><br>
                    </header><br>

                    <header>
                        <h3>Europa Universalis IV Achievment Tracker</h3><hr>
                    </header><br>

                    <section id="achievements">
                        <div class="container">
                            <header>
                                <h2>Achievements</h2>
                            </header>
                    
                            <!-- Game-Specific Achievements -->
                            <div id="achievement-list">
                                <!-- Example Game -->
                                <div class="game-section">
                                    <h3>Europa Universalis IV</h3>
                                    <ul class="achievement-items">
                                        <!-- Example Achievement -->
                                        <li class="achievement-item">
                                            <img src="../assets/images/achievements/eu4_icon.png" alt="Achievement Icon" class="achievement-icon">
                                            <div class="achievement-details">
                                                <h4>Conquer the World</h4>
                                                <p>Form a one-tag world conquest.</p>
                                                <button class="mark-complete">Mark Complete</button>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                    
                            <!-- Add Custom Achievement -->
                            <div id="add-achievement">
                                <h3>Create Custom Achievement</h3>
                                <form id="achievement-form">
                                    <input type="text" id="achievement-title" placeholder="Achievement Title" required>
                                    <textarea id="achievement-description" placeholder="Description" required></textarea>
                                    <input type="file" id="achievement-icon" accept="image/*">
                                    <button type="submit">Add Achievement</button>
                                </form>
                            </div>
                        </div>
                    </section>
                    

                </div>
            </section>
        </div>

		<!-- Scripts -->

        <script>
        document.addEventListener("DOMContentLoaded", () => {
            const achievementList = document.getElementById("achievement-list");
            const form = document.getElementById("achievement-form");

            // Load achievements from localStorage
            const loadAchievements = () => {
                const savedAchievements = JSON.parse(localStorage.getItem("achievements")) || [];
                achievementList.innerHTML = ""; // Clear existing list
                savedAchievements.forEach((achievement) => {
                    addAchievementToDOM(achievement);
                });
            };

            // Save achievements to localStorage
            const saveAchievements = () => {
                const achievements = [];
                document.querySelectorAll(".achievement-item").forEach((item) => {
                    const title = item.querySelector("h4").textContent;
                    const description = item.querySelector("p").textContent;
                    const icon = item.querySelector("img").src;
                    const completed = item.querySelector(".mark-complete").classList.contains("completed");
                    achievements.push({ title, description, icon, completed });
                });
                localStorage.setItem("achievements", JSON.stringify(achievements));
            };

            // Add achievement to the DOM
            const addAchievementToDOM = ({ title, description, icon, completed }) => {
                const listItem = document.createElement("li");
                listItem.className = "achievement-item";

                // Icon
                const iconImg = document.createElement("img");
                iconImg.className = "achievement-icon";
                iconImg.src = icon || "../assets/images/default_icon.png";
                listItem.appendChild(iconImg);

                // Details
                const details = document.createElement("div");
                details.className = "achievement-details";
                const titleElem = document.createElement("h4");
                titleElem.textContent = title;
                const descElem = document.createElement("p");
                descElem.textContent = description;
                details.appendChild(titleElem);
                details.appendChild(descElem);

                // Mark Complete Button
                const completeButton = document.createElement("button");
                completeButton.className = "mark-complete";
                completeButton.textContent = completed ? "Completed" : "Mark Complete";
                if (completed) completeButton.classList.add("completed");
                details.appendChild(completeButton);

                // Remove Button
                const removeButton = document.createElement("button");
                removeButton.className = "remove-achievement";
                removeButton.textContent = "Remove";
                details.appendChild(removeButton);

                listItem.appendChild(details);

                // Append to list
                achievementList.appendChild(listItem);
            };

            // Handle marking achievements as complete or removing them
            achievementList.addEventListener("click", (e) => {
                // Mark Complete Button Logic
                if (e.target.classList.contains("mark-complete")) {
                    e.target.classList.toggle("completed");
                    e.target.textContent = e.target.classList.contains("completed") ? "Completed" : "Mark Complete";
                    saveAchievements(); // Save the updated state
                }

                // Remove Achievement Logic
                if (e.target.classList.contains("remove-achievement")) {
                    const listItem = e.target.closest(".achievement-item");
                    console.log("Removing achievement:", listItem.querySelector("h4").textContent); // Debugging log
                    listItem.remove(); // Remove from DOM
                    saveAchievements(); // Update localStorage
                }
            });

            // Handle adding custom achievements
            form.addEventListener("submit", (e) => {
                e.preventDefault();
                const title = document.getElementById("achievement-title").value;
                const description = document.getElementById("achievement-description").value;
                const fileInput = document.getElementById("achievement-icon");
                const file = fileInput.files[0];

                // Create new achievement object
                const newAchievement = {
                    title,
                    description,
                    icon: file ? URL.createObjectURL(file) : "../assets/images/default_icon.png",
                    completed: false,
                };

                // Add to DOM and save
                addAchievementToDOM(newAchievement);
                saveAchievements();

                // Reset the form
                form.reset();
            });

            // Initial load
            loadAchievements();
        });
        </script>

        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/jquery.scrolly.min.js"></script>
        <script src="assets/js/jquery.scrollex.min.js"></script>
        <script src="assets/js/browser.min.js"></script>
        <script src="assets/js/breakpoints.min.js"></script>
        <script src="assets/js/util.js"></script>
        <script src="assets/js/main.js"></script>
	</body>
</html>